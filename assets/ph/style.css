:root{
  --ink:#1b1f24;--muted:#5b6975;--primary:#0d6efd;--border:#cfd6de;--bg:#f6f8fa;--paper:#ffffff;--accent:#e9eef3;
  --section:#bcd0ea; /* light blue bar like sample */
  --section-strong:#8aa9d1; /* darker line */
  /* revert to neutral scale for stable PDF */
  --pdf-scale: 1;
}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;color:var(--ink);font-family:'Noto Sans Thai','Leelawadee UI','Sarabun','Segoe UI','Tahoma','Thonburi',system-ui,-apple-system,sans-serif;background:var(--bg)}

/* simple utility */
.hidden{display:none !important}

/* Landing page */
.landing{min-height:100vh;display:grid;place-items:start center;background:linear-gradient(180deg,#f0f6ff,#ffffff 40%);padding:24px}
.landing-wrap{max-width:980px;width:100%}
/* Hero banner */
.landing-head{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;margin-bottom:16px;padding:22px 16px;background:linear-gradient(135deg,#1e4ef5,#0e38e5);color:#fff;border-radius:14px;box-shadow:0 12px 28px rgba(13,56,229,.25)}
.landing-head .brand{font-weight:800;font-size:32px;line-height:1.2;margin:0}
.landing-head .sub{color:rgba(255,255,255,.92);margin-top:6px}
/* Card list */
.card-grid{display:grid;grid-template-columns:1fr;gap:14px;margin-top:14px}
.card{background:#fff;border:1px solid var(--border);border-radius:16px;padding:14px 16px;display:grid;grid-template-columns:56px 1fr auto;grid-auto-rows:auto;align-items:center;gap:12px;box-shadow:0 10px 24px rgba(20,40,80,.12)}
.card .card-icon{grid-column:1;grid-row:1 / span 2;width:56px;height:56px;border-radius:14px;background:#ffef5a;color:#1c2b3d;display:flex;align-items:center;justify-content:center;font-weight:800;box-shadow:inset 0 1px 0 rgba(255,255,255,.6), inset 0 -6px 18px rgba(0,0,0,.08)}
.card .card-title{grid-column:2;grid-row:1;margin:0;font-size:16px}
.card .card-desc{grid-column:2;grid-row:2;margin:0;color:var(--muted);font-size:13px}
.card button{grid-column:3;grid-row:1 / span 2;justify-self:end;align-self:center}
/* Buttons */
.landing button{border:1px solid var(--border);background:#fff;padding:10px 16px;border-radius:999px;cursor:pointer;font-weight:700}
.landing button.primary{background:var(--primary);color:#fff;border-color:var(--primary);position:relative;display:inline-flex;align-items:center;gap:8px}
.landing button.primary::after{content:'\203A';display:inline-flex;align-items:center;justify-content:center;width:24px;height:24px;border-radius:999px;background:rgba(255,255,255,.22)}
.landing button.secondary{color:var(--muted)}
/* Icon color variants by order */
.card-grid article:nth-child(1) .card-icon{background:linear-gradient(135deg,#FFEB7F,#F6D64A);color:#5c4a11}
.card-grid article:nth-child(2) .card-icon{background:linear-gradient(135deg,#D9CCFF,#B39DFF);color:#39286b}
.card-grid article:nth-child(3) .card-icon{background:linear-gradient(135deg,#C8F4CF,#90E6A0);color:#174428}
.card.highlight{border-color:#e6ecf7}
.card.disabled{opacity:.6;filter:grayscale(20%)}
.landing-foot{margin-top:14px;color:var(--muted);text-align:center}
/* Responsive landing cards */
@media (max-width: 900px){
  .card-grid{grid-template-columns:1fr}
}
@media (max-width: 640px){
  .landing{padding:16px}
  .card-grid{grid-template-columns:1fr}
}

.app-header{display:flex;align-items:center;gap:16px;padding:10px 16px;padding-top:calc(10px + env(safe-area-inset-top));background:#fff;border-bottom:1px solid var(--border);position:sticky;top:0;z-index:3}
.app-header .brand{font-weight:700}
.app-header .title{flex:1;text-align:center;font-weight:600}
.app-header .actions{display:flex;gap:8px;align-items:center}
.app-header button,.form-actions button,.button-like{border:1px solid var(--border);background:#fff;padding:8px 12px;border-radius:10px;cursor:pointer;transition:background .12s ease, transform .06s ease}
.form-actions button:active,.app-header button:active{transform:translateY(1px)}
.app-header button.primary{background:var(--primary);color:#fff;border-color:var(--primary)}
.button-like{display:inline-block}

/* Mobile: keep actions visible as scrollable row */
@media (max-width: 1024px){
  .app-header{flex-wrap:wrap;gap:10px}
  .app-header .title{order:2;flex:1 1 100%;text-align:center}
  .app-header .actions{order:3;flex:1 1 100%;display:flex !important;overflow-x:auto;white-space:nowrap;padding-bottom:4px;-webkit-overflow-scrolling:touch}
  .app-header .actions::-webkit-scrollbar{display:none}
}
/* Ensure header always stays tappable */
.app-header{z-index:100}

.layout{display:grid;grid-template-columns:minmax(340px,520px) 1fr;gap:12px;padding:12px}
.panel{background:#fff;border:1px solid var(--border);border-radius:10px;overflow:hidden}
.panel>h2{margin:0;padding:12px 14px;border-bottom:1px solid var(--border);font-size:14px;letter-spacing:.2px}

.form-panel{max-height:calc(100vh - 80px);display:flex;flex-direction:column}
.form-panel form{padding:12px 14px;overflow:auto}

details{border:1px solid var(--border);border-radius:8px;margin:10px 0;background:#fff}
details>summary{cursor:pointer;list-style:none;padding:10px 12px;font-weight:600;background:var(--accent);border-bottom:1px solid var(--border)}
details>div,details>table,details>label,.table-controls{padding:10px 12px}

label{display:flex;flex-direction:column;gap:6px;font-size:12px}
label input, label select, label textarea{padding:12px 14px;border:1px solid var(--border);border-radius:12px;font-size:15px}
label.block{margin-top:6px}

.grid{display:grid;gap:10px}
.g-3{grid-template-columns:repeat(3,1fr)}
.mt-6{margin-top:6px}
.mt-8{margin-top:8px}

.table-controls{display:flex;gap:8px}
table{width:100%;border-collapse:collapse}
table.tgrid{table-layout:fixed;width:100%}
table.mini th, table.mini td{border:1px solid var(--border);padding:6px 8px;font-size:12px}
table.tgrid th{background:var(--section);font-weight:700}
table.tgrid thead tr:first-child th{background:var(--section-strong);color:#0f2239}
/* Slight downward shift inside table cells by using larger top and smaller bottom padding */
table.tgrid th,table.tgrid td{border:1px solid var(--border);padding:9px 8px 5px 8px;font-size:13px;text-align:left}

.preview-panel{padding:0}
.preview-panel>h2{margin:0;padding:12px 14px;border-bottom:1px solid var(--border);font-size:14px}
.paper{background:var(--paper);width:210mm;margin:4px auto;border:none;border-radius:2px;box-shadow:none;padding: 4mm 12mm 10mm 12mm;position:relative}
/* remove decorative frames for a clean edge and fit */
.paper::before,.paper::after{content:none}
.paper> *{position:relative;z-index:1}
.cert{display:flex;flex-direction:column;min-height:100%;font-size:12px}
.cert-header{display:grid;grid-template-columns:36mm 1fr auto;gap:8px;align-items:flex-start;border-bottom:1.4px solid var(--ink);padding-bottom:4px}
.logo{width:36mm;height:28mm;border:1px solid var(--border);display:flex;align-items:center;justify-content:center;font-weight:800;background:#ffef5a}
.cert-meta{display:flex;flex-direction:column;gap:4px}
.cert-title{text-align:center;font-size:18px;font-weight:700;font-family:Cambria, "Times New Roman", serif;line-height:1.2}
.cert-sub{display:flex;flex-direction:column;align-items:flex-end;gap:2px;font-size:11px;color:var(--ink);padding:0 4px;text-align:right}
.cert-sub>span{display:block}

.block{margin-top:10px;border:1px solid var(--border)}
.block-title{background:var(--section);padding:4px 6px;font-weight:800;font-size:11px;border-bottom:1px solid var(--section-strong);letter-spacing:.2px}
.cal-result-line{padding:2px 6px 2px 6px;font-size:11px;color:var(--ink);background:#eef4fb;border-bottom:1px solid var(--section-strong);font-weight:600}
.kv{table-layout:fixed;width:100%}
.kv th{width:22%;text-align:left;background:#eef4fb;border-right:1px solid var(--border);font-weight:600}
.kv td{width:30%}
.kv td,.kv th{border-bottom:1px solid var(--border);padding:4px 6px;font-size:11px}
.kv td{background:#fff}
.cert .kv th::after{content:' :';float:right;color:var(--muted)}
.kv th.no-colon::after{content:''}
/* keep sections together when printing */
.block{break-inside:avoid;page-break-inside:avoid}
#calibration-record,.cal-wrap,#end-of-calibration{break-inside:avoid;page-break-inside:avoid}
#photos-block{break-before:auto;page-break-before:auto}
/* Place photos near the bottom by default (stable behavior) */
.cert #photos-block{margin-top:auto}

/* pH Reference Data table (preview) — mimic Calibrate Record */
table.ref{table-layout:fixed;width:100%}
table.ref th,table.ref td{white-space:nowrap;vertical-align:middle}
/* keep spacing consistent with sample */
table.ref th{padding:4px 5px 1px 5px}
table.ref td{padding:9px 8px 5px 8px}
/* strong, explicit alignment per column */
table.tgrid.ref{table-layout:fixed !important;width:100%}
table.tgrid.ref thead th{background:var(--section-strong);color:#0f2239;text-align:center}
table.tgrid.ref tbody td:nth-child(1), table.tgrid.ref thead th:nth-child(1){text-align:left}
table.tgrid.ref tbody td:nth-child(2), table.tgrid.ref thead th:nth-child(2){text-align:left}
table.tgrid.ref tbody td:nth-child(3), table.tgrid.ref thead th:nth-child(3){text-align:center}
table.tgrid.ref tbody td:nth-child(4), table.tgrid.ref thead th:nth-child(4){text-align:right}
/* lock column widths to avoid drift */
table.tgrid.ref col.col-eq{width:44%}
table.tgrid.ref col.col-brand{width:28%}
table.tgrid.ref col.col-serial{width:12%}
table.tgrid.ref col.col-exp{width:16%}

/* Editable Buffer table (left panel) should match preview alignment */
#buffer-table{table-layout:fixed;width:100%}
#buffer-table thead th{text-align:center}
#buffer-table th,#buffer-table td{text-align:left}
#buffer-table th:nth-child(3),#buffer-table td:nth-child(3){text-align:center}
#buffer-table th:nth-child(4),#buffer-table td:nth-child(4){text-align:right}
#buffer-table td{padding:0} /* inputs carry padding */
#buffer-table input{width:100%;padding:6px 8px;border:0;outline:0;background:transparent;font:inherit}
#buffer-table td:nth-child(3) input{text-align:center}
#buffer-table td:nth-child(4) input{text-align:right}

/* Photo strip: lock to 3 equal frames with consistent aspect */
.photos{display:grid;grid-template-columns:repeat(3,1fr);gap:8px;align-items:stretch}
/* Keep image aspect ratio without distortion; letterbox if needed */
.photos img{display:block;width:100%;height:38mm;object-fit:cover;object-position:center top;border:1px solid var(--border);background:#fff}
/* Add wrapper + green badge like the sample */
.photos .photo{position:relative}
.photos .photo img{display:block;width:100%;height:38mm;object-fit:cover;object-position:center top;border:1px solid var(--border);background:#fff}
.photos .badge{position:absolute;left:0;top:0;background:#22c55e;color:#fff;padding:2px 6px;border-bottom-right-radius:4px;font-size:10px;font-weight:800;letter-spacing:.2px;line-height:1}

.app-footer{padding:8px 14px;color:var(--muted);text-align:center}

/* subtle row striping for large tables */
tbody tr:nth-child(odd) td{background:#fafcff}

/* Print styles for cleaner PDF */
@media print{
  body{background:#fff}
  .landing{display:none}
  .app-header,.form-panel,.app-footer{display:none}
  /* Hide overlays and helpers that could create extra pages */
  .mobile-cta, .modal, #preview-modal, #busy-ov, #toast, #pdf-sandbox{display:none !important}
  /* exact A4 when printing via browser */
  @page{size:A4;margin:0}
  .paper{width:210mm;min-height:297mm;margin:0 auto;box-shadow:none;border:none;padding:6mm 12mm 10mm 12mm}
}

/* PDF single?page fit using CSS variable scale (JS adjusts --pdf-scale)
   Use auto height so JS can measure true content height and fit exactly. */
/* ==== One-page PDF hard guard ==== */
/* กันการแตกหน้า/แทรกหน้าว่าง */
.paper.pdf,
.paper.pdf *{ page-break-inside:avoid; }
.paper.pdf{ padding: 4mm 12mm 10mm 12mm; }

/* ปรับระยะเล็กน้อยให้จบในแผ่นเดียว */
.paper.pdf .cert-title{font-size:17px}
.paper.pdf .block-title{padding:3px 5px;font-size:10.5px}
.paper.pdf .cal-result-line{padding:2px 5px;font-size:10.5px}
.paper.pdf .block{margin-top:8px}
/* Tighten spacing just under header in PDF */
.paper.pdf .cert-header{padding-bottom:2px}
.paper.pdf .cert .block:first-of-type{margin-top:4px}
.paper.pdf .kv td,.paper.pdf .kv th{padding:3px 5px;font-size:10.5px}
.paper.pdf .cal2 th,.paper.pdf .cal2 td{padding:4px 6px;font-size:10px}

/* เดิม 60mm  ใหม่ 58mm (ถ้ายังล้น ลดเหลือ 56mm ได้) */
.paper.pdf .photos img{
  height:36mm;
  height:60mm;   /* ถ้ายังเกิน ลดเหลือ 52mm หรือ 50mm ได้ */
  object-fit:cover;
  object-position:center;
  border:1px solid var(--border);
  background:#fff;
}


/* ให้รูปอยู่ติดบล็อกก่อนหน้าแต่ไม่ดันขึ้นหน้า 2 */
.paper.pdf #photos-block{margin-top:10px}

/* กัน rounding error */
.paper.pdf::after{content:"";display:block;height:0;margin-bottom:-2px}

/* เผื่อสั่งพิมพ์ตรงจากเบราว์เซอร์ */
@page{ margin:0; }


/* Calibration table specialized styling (split into two tables) */
.cal-wrap{border:1.6px solid #27364b}
.cal-split{display:grid;grid-template-columns:1fr 1fr;gap:0}
.cal2{width:100%;border-collapse:collapse}
.cal2 th,.cal2 td{border:1px solid var(--border);padding:6px 8px;font-size:12px;text-align:center;white-space:nowrap}
.cal2 thead tr.grp th{background:var(--section-strong);color:#0f2239;font-weight:800}
.cal2 thead tr.sub th{background:var(--section);font-weight:700}
.cal2 thead tr.units th{background:#eef4fb;color:#3a526e;font-size:11px;font-weight:600}
.cal2.left{border-right:1.6px solid #27364b}
.cal2.right{border-left:1.6px solid #27364b}

.kv col.kv-th{width:20%}
.kv col.kv-td{width:30%}
/* Modal preview styles */
.modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(15,23,42,.55);z-index:50}
.modal.hidden{display:none}
.modal-dialog{background:#fff;border-radius:10px;box-shadow:0 20px 60px rgba(0,0,0,.25);width:min(96vw, 980px);max-height:90vh;display:flex;flex-direction:column;overflow:hidden}
.modal-head{display:flex;align-items:center;justify-content:space-between;padding:10px 14px;border-bottom:1px solid var(--border);background:#f8fafc}
.modal-head .mh-title{font-weight:700}
.modal-close{border:1px solid var(--border);background:#fff;border-radius:6px;cursor:pointer;padding:4px 8px}
.modal-body{padding:14px;overflow:auto;background:#f9fbff}
.modal-foot{padding:10px 14px;border-top:1px solid var(--border);display:flex;justify-content:flex-end;background:#fff}

/* Hide header actions and docked actions (temporary requirement) */
.app-header .actions{display:none !important}
.form-actions{display:none !important}
/* Hide form section tabs and the empty sticky bar */
.form-tabs{display:none !important}
.form-bar{display:none !important}

/* ensure certificate in modal looks like paper centered */
#preview-mount .paper{margin:0 auto}
\n/* When preview is hidden, use single column layout */\n.layout.single{grid-template-columns:minmax(340px,1fr)}\n
/* Centered single-column form layout for mobile-like feel */
.layout.single{grid-template-columns:minmax(340px, 720px); justify-content:center; padding:24px}
.form-panel{width:min(720px, 96vw); margin:0 auto; border-radius:14px; border:1px solid var(--border); box-shadow:0 8px 24px rgba(20,40,80,.08); background:#fff}

/* Inline preview for form photos */
.thumb-preview{margin-top:6px; width:100%; height:120px; object-fit:cover; border:1px solid var(--border); border-radius:8px; background:#f8fafc}

/* Center buffer values (4,7,10) in calibration input tables */
#cal-inputs-found td:first-child,
#cal-inputs-found th:first-child,
#cal-inputs-cal td:first-child,
#cal-inputs-cal th:first-child{ text-align:center; }

/* Wrap long text in Remarks cell to stay inside frame */
.cert [data-bind="remarks"]{
  white-space: normal;         /* allow wraps */
  overflow-wrap: anywhere;     /* break long words */
  word-break: break-word;      /* older fallback */
}

/* Calibration inputs use normal table layout on all screens */
.form-panel>h2{background:#f6f9ff; border-bottom:1px solid var(--border); border-top-left-radius:14px; border-top-right-radius:14px}
.form-panel form{padding:16px}

/* Mobile-friendly inputs */
.form-panel label{font-size:13px}
.form-panel label input,
.form-panel label select,
.form-panel label textarea{padding:12px 14px; font-size:15px; border-radius:12px; border:1.5px solid var(--border); background:#f8fafc}
.form-panel label input:focus,
.form-panel label select:focus,
.form-panel label textarea:focus{outline:none; border-color:#8db3ff; box-shadow:0 0 0 3px rgba(13,110,253,.12)}

/* Nicer details blocks */
.form-panel details{border-radius:12px; overflow:hidden; border:1px solid var(--border); background:#fff}
.form-panel details>summary{background:linear-gradient(180deg,#eef5ff,#e9f0ff); padding:12px 14px; font-weight:700; position:relative}
.form-panel details>summary::-webkit-details-marker{display:none}
.form-panel details>summary::after{content:'\25B8'; position:absolute; right:12px; color:#6a7a90}
.form-panel details[open]>summary::after{content:'\25BE'}
.form-panel details+details{margin-top:14px}/* Two columns on wide screens, one column on narrow */
.form-panel form .grid.g-3{grid-template-columns:1fr 1fr}
@media (max-width: 640px){
  .layout.single{padding:12px}
  .form-panel{width:min(640px, 96vw)}
  .form-panel form .grid.g-3{grid-template-columns:1fr}
  /* keep space for bottom CTA */
  .form-panel form{padding-bottom:86px}
  .form-actions button{padding:10px 14px; border-radius:12px}
}

/* Sticky mobile CTA */
.mobile-cta{position:fixed;left:0;right:0;bottom:0;z-index:40;display:none;gap:10px;align-items:center;justify-content:center;padding:10px 14px; padding-bottom:calc(10px + env(safe-area-inset-bottom)); background:rgba(255,255,255,.9);backdrop-filter:blur(6px);border-top:1px solid var(--border)}
.mobile-cta button{border:1px solid var(--border);padding:10px 14px;border-radius:999px;font-weight:700}
.mobile-cta button.icon{width:44px;height:44px;padding:0;display:grid;place-items:center}
.mobile-cta button.icon i{font-size:18px;color:#2a3a4f}
.mobile-cta .ghost{background:#fff}
.mobile-cta .primary{background:var(--primary);border-color:var(--primary);color:#fff}
.mobile-cta .primary.icon i{color:#fff}
@media (max-width: 768px){ .app:not(.hidden) ~ .mobile-cta{display:flex} }

/* In-form sticky section tabs (AppSheet-like) */
.form-tabs{position:static; display:flex; gap:8px; overflow:auto; padding:6px 10px 10px 10px}
.form-tabs button{border:1px solid var(--border); background:#fff; padding:8px 12px; border-radius:999px; font-weight:700; white-space:nowrap}
.form-tabs button.active{background:var(--primary); color:#fff; border-color:var(--primary)}

/* In-form action + tabs wrapper */
.form-bar{position:sticky; top:0; z-index:7; background:linear-gradient(180deg,#ffffff,#f7f9ff); border-bottom:1px solid var(--border); box-shadow:0 6px 14px rgba(20,40,80,.05); backdrop-filter:blur(6px)}
/* In-form action bar (docked header actions) */
.form-actions{display:flex; gap:10px; align-items:center; overflow:auto; white-space:nowrap; padding:10px 10px}
.form-actions::-webkit-scrollbar{display:none}
.form-actions .primary{box-shadow:0 8px 22px rgba(13,110,253,.22)}

/* Safer tap sizes on mobile */
@media (max-width: 640px){
  .app-header{padding:10px 12px}
  .app-header .brand{font-size:18px}
  .form-tabs button{padding:10px 14px}
  .app-header button{min-height:42px}
}










.cert-header .cert-title{grid-column:1 / -1; justify-self:center; text-align:center;}
.cert-header .cert-sub{grid-column:3; justify-self:end; text-align:right;}

/* Ensure wrapper images follow the same PDF height */
.paper.pdf .photos .photo img{ height:58mm; object-position:center top; }

/* Override: enforce symmetric photo frames in PDF (consistent height + top-anchored crop) */
.paper.pdf .photos img{ height:58mm; object-fit:cover; object-position:center top; }

/* Landing polish overrides */
:root{ --hero-1:#1e4ef5; --hero-2:#0e38e5; --hero-glow:#7aa2ff; --card-grad-top:#ffffff; --card-grad-btm:#f7faff; }
.landing{background:linear-gradient(180deg,#eef5ff,#ffffff 42%); position:relative; overflow:hidden}
.landing::before,.landing::after{content:""; position:absolute; border-radius:50%; filter:blur(24px); pointer-events:none}
.landing::before{top:-120px; right:-120px; width:360px; height:360px; background:radial-gradient(closest-side, rgba(122,162,255,.35), transparent 70%)}
.landing::after{bottom:-160px; left:-160px; width:420px; height:420px; background:radial-gradient(closest-side, rgba(122,240,197,.25), transparent 70%)}
.landing-wrap{position:relative; z-index:1}
.landing-head{margin-bottom:18px; padding:26px 18px; background:linear-gradient(135deg,var(--hero-1),var(--hero-2)); color:#fff; border-radius:20px; box-shadow:0 14px 32px rgba(13,56,229,.28); position:relative; overflow:hidden}
.landing-head::before{content:""; position:absolute; left:-56px; top:-56px; width:160px; height:160px; border-radius:50%; background:radial-gradient(closest-side, rgba(255,255,255,.18), rgba(255,255,255,0) 70%); filter:blur(14px); opacity:.7}
.landing-head::after{content:""; position:absolute; inset:auto -40px -40px auto; width:180px; height:180px; background:radial-gradient(closest-side, rgba(255,255,255,.18), transparent 65%); filter:blur(12px)}
.landing-head .brand{font-weight:900; font-size:clamp(26px,5.2vw,38px); letter-spacing:.2px; line-height:1.15; margin:0; text-shadow:0 3px 16px rgba(0,0,0,.2)}
.landing-head .sub{color:rgba(255,255,255,.96); margin-top:6px; font-weight:600}
/* Install button in landing header */
.landing-head #landing-install{border:1px solid rgba(255,255,255,.6); background:rgba(255,255,255,.18); color:#fff; padding:8px 12px; border-radius:999px; font-weight:800; backdrop-filter:blur(6px); margin-top:8px}
.landing-head #landing-install i{margin-right:6px}
.card-grid{gap:16px; margin-top:18px}
.card{background:linear-gradient(180deg,var(--card-grad-top),var(--card-grad-btm)); border-radius:18px; box-shadow:0 14px 26px rgba(20,40,80,.12), 0 2px 0 rgba(255,255,255,.7) inset; transition:transform .12s ease, box-shadow .12s ease; min-height:104px}
.card:hover{transform:translateY(-2px); box-shadow:0 18px 32px rgba(20,40,80,.16)}
.card .card-title{font-size:16px; font-weight:800}
.card .card-icon{position:relative}
.card .card-icon::after{content:""; position:absolute; inset:-6px; z-index:-1; border-radius:16px; background:radial-gradient(closest-side, rgba(0,0,0,.06), transparent 70%)}
.landing button{font-weight:800; letter-spacing:.2px}
.landing button.primary{padding-right:44px}
.landing button.primary::after{content:'\203A'; position:absolute; right:10px; display:inline-flex; align-items:center; justify-content:center; width:28px; height:28px; border-radius:999px; background:rgba(255,255,255,.25); box-shadow:inset 0 0 0 1px rgba(255,255,255,.4)}
.landing button.primary:hover{filter:brightness(1.05)}
/* remove footer tagline on landing */
.landing-foot{display:none}

/* Ensure CTA sits bottom-right in each landing card */
.landing .card{grid-template-rows:auto 1fr auto; min-height:120px}
.landing .card .card-icon{grid-row:1; align-self:start}
.landing .card .card-title{grid-row:1}
.landing .card .card-desc{grid-row:2}
/* move CTA up to align with description */
.landing .card :is(button, a){grid-column:3; grid-row:2; justify-self:end; align-self:center}
/* make the CTA a bit smaller and keep text on one line */
.landing .card .primary{padding:8px 38px 8px 14px; font-size:14px; white-space:nowrap}
.landing .card .primary::after{width:22px; height:22px; right:8px}
